# 📋 PRD: 마케팅 지원 룰렛 이벤트 시스템

**문서 버전**: v1.0  
**작성일**: 2025-09-05  
**작성자**: 지예인 (기획)  
**승인자**: 정보근 (기획리드)  
**Jira 티켓**: [PROD-19278](https://vendysdev.atlassian.net/browse/PROD-19278)

---

## 🎯 1. 프로젝트 개요 (Executive Summary)

### 1.1 프로젝트 목적

**"마케팅팀이 자율적으로 운영 가능한 사용자 참여형 이벤트 시스템 구축"**

현재 마케팅팀은 이벤트 진행을 위해 매번 개발팀에 의존해야 하는 상황입니다. 본 프로젝트를 통해 마케팅팀이 독립적으로 이벤트를 기획, 운영, 분석할 수 있는 시스템을 구축하여 신규 고객 유치와 거래액 증대를 목표로 합니다.

### 1.2 핵심 가치 제안

- **운영 자율성**: 개발팀 의존도 제거, 마케팅팀의 독립적 이벤트 운영
- **사용자 참여**: 게임화된 재미있는 참여 경험으로 브랜드 인게이지먼트 향상
- **비즈니스 성과**: 신규 사용자 유입 및 기존 사용자 활성화를 통한 거래액 증대
- **확장성**: 다양한 이벤트 형태로 발전 가능한 플랫폼 기반 마련

### 1.3 프로젝트 범위

**포함 사항**:

- 사용자 참여형 이벤트 페이지 (복권긁기, 카드선택 등)
- VONE 관리자 시스템 (이벤트 생성/관리/통계)
- 당첨 시스템 및 참여 로그 관리
- 기존 앱 배너 시스템과의 연동

**제외 사항** (Phase 1):

- 실시간 자동 포인트/상품 지급
- 재무/회계 시스템 연동
- 고도화된 사용자 세그멘테이션
- A/B 테스트 기능

---

## 👥 2. 이해관계자 및 사용자 (Stakeholders & Users)

### 2.1 주요 이해관계자

| 역할              | 이름                           | 책임                       | 성공 기준                  |
| ----------------- | ------------------------------ | -------------------------- | -------------------------- |
| **Product Owner** | 지예인                         | 제품 기획 및 요구사항 정의 | 마케팅팀 만족도 90% 이상   |
| **마케팅 담당자** | 조영주                         | 실제 이벤트 운영 및 피드백 | 월 2회 이상 이벤트 진행    |
| **기획 리드**     | 정보근                         | 기획 검토 및 승인          | 일정 내 요구사항 목표 달성 |
| **개발팀**        | 강규석, 김도현, 소재철(최은교) | 시스템 구현                | 일정 내 품질 목표 달성     |

### 2.2 대상 사용자

#### Primary Users (1차 사용자)

- **마케팅 담당자 (Internal)**
  - 목표: 효율적인 이벤트 생성 및 관리
  - 페인 포인트: 개발팀 의존, 복잡한 도구 사용의 어려움
  - 성공 지표: 이벤트 생성 시간 단축 (기존 1주 → 1일)

#### Secondary Users (2차 사용자)

- **식품관/복지대장몰 사용자 (External)**
  - 목표: 재미있는 이벤트 참여 및 혜택 획득
  - 페인 포인트: 복잡한 참여 방식, 당첨 여부 불투명
  - 성공 지표: 이벤트 참여율 [📝 **질문 1**: 목표 참여율이 몇 %인가요?]

---

## 🎨 3. 제품 비전 및 전략 (Product Vision & Strategy)

### 3.1 제품 비전

**"식품관과 복지대장몰 사용자들이 즐겁게 참여할 수 있는 브랜드 맞춤형 이벤트 플랫폼"**

### 3.2 전략적 목표

#### 단기 목표 (3개월)

- [x] Phase 1 시스템 구축 완료
- [x] 마케팅팀 시스템 교육 완료
- [ ] 첫 번째 실제 이벤트 성공적 진행
- [ ] [📝 **질문 2**: 첫 이벤트의 구체적 성과 목표는?]

#### 중기 목표 (6개월)

- [ ] 월 평균 2-3회 이벤트 정기 진행
- [ ] [📝 **질문 3**: 거래액 증가 목표 수치는?]
- [ ] 사용자 피드백 기반 Phase 2 기능 추가

#### 장기 목표 (12개월)

- [ ] 다양한 이벤트 타입 지원 (시즌 이벤트, 브랜드 콜라보 등)
- [ ] 자동 지급 시스템 및 재무 연동
- [ ] AI 기반 개인화 이벤트 추천

### 3.3 경쟁사 분석

| 서비스                  | 장점                   | 단점                                          | 우리의 차별점        |
| ----------------------- | ---------------------- | --------------------------------------------- | -------------------- |
| **토스 복권**           | 직관적 UI, 높은 참여율 | 범용적, 브랜드 정체성 부족                    | 식품/복지 특화 테마  |
| **카카오페이 미니게임** | 다양한 게임 형태       | 복잡한 UI, 높은 개발 비용                     | 간단하고 실용적 접근 |
| **하나머니 이벤트**     | 풍부한 이벤트 경험     | [📝 **질문 4**: 추가 벤치마킹 대상이 있나요?] | 마케팅 자율성 확보   |

---

## 📋 4. 기능 요구사항 (Functional Requirements)

### 4.1 핵심 기능 (Core Features)

#### 4.1.1 사용자 이벤트 참여 시스템

**Epic**: 게임형 이벤트 참여 경험

**User Stories**:

- **US-001**: 사용자는 앱 배너를 통해 이벤트 페이지에 진입할 수 있다
- **US-002**: 사용자는 복권긁기/카드선택 게임을 통해 이벤트에 참여할 수 있다
- **US-003**: 사용자는 참여 즉시 당첨 여부를 확인할 수 있다
- **US-004**: 사용자는 이미 참여한 이벤트의 결과를 다시 확인할 수 있다

**Acceptance Criteria**:

- [ ] 이벤트 페이지 로딩 시간 3초 이내
- [ ] 터치 인터랙션 응답성 100ms 이내
- [ ] 당첨 결과 애니메이션 자연스러운 연출
- [ ] 참여 제한 로직 정확성 100%

#### 4.1.2 VONE 관리자 시스템

**Epic**: 마케팅팀 자율 이벤트 운영

**User Stories**:

- **US-005**: 마케팅 담당자는 새로운 이벤트를 생성할 수 있다
- **US-006**: 마케팅 담당자는 혜택 종류와 당첨 확률을 설정할 수 있다
- **US-007**: 마케팅 담당자는 이벤트 진행 현황을 실시간으로 모니터링할 수 있다
- **US-008**: 마케팅 담당자는 당첨자 목록을 조회하고 관리할 수 있다

**Acceptance Criteria**:

- [ ] 이벤트 생성 시간 30분 이내
- [ ] 실시간 통계 업데이트 (5분 단위)
- [ ] 혜택 확률 계산 정확성 100%
- [ ] 당첨자 리스트 엑셀 다운로드 지원

#### 4.1.3 당첨 및 참여 관리 시스템

**Epic**: 공정하고 투명한 당첨 시스템

**Business Rules**:

- 당첨 확률은 설정된 %에 따라 정확히 작동
- 일일/총 수량 제한 도달시 해당 혜택 자동 제외
- 중복 참여 방지 (이벤트당 1회 또는 1일 1회)
- 모든 참여 이력 로그 저장 (감사 추적 가능)

### 4.2 부가 기능 (Secondary Features)

#### 4.2.1 Phase 2 예정 기능 [📝 **질문 5**: 우선순위는?]

- [ ] 다양한 게임 타입 추가
- [ ] 사용자 세그멘테이션
- [ ] 자동 포인트 지급
- [ ] 고급 통계 및 분석

#### 4.2.2 미래 확장 기능

- [ ] AI 기반 이벤트 추천
- [ ] 외부 쿠폰 시스템 연동
- [ ] 소셜 공유 기능

---

## 🎯 5. 성공 지표 및 KPI (Success Metrics & KPIs)

### 5.1 비즈니스 성과 지표

#### 주요 KPI (Key Performance Indicators)

| 지표                | 목표값                          | 측정 방법                  | 책임자   |
| ------------------- | ------------------------------- | -------------------------- | -------- |
| **거래액 증가율**   | [📝 **질문 6**: 목표 %는?]      | 이벤트 전후 거래액 비교    | 마케팅팀 |
| **이벤트 참여율**   | [📝 **질문 7**: 목표 참여율은?] | 참여자수/노출수            | 마케팅팀 |
| **사용자 재방문율** | [📝 **질문 8**: 목표치는?]      | 이벤트 참여 후 앱 재방문   | 분석팀   |
| **마케팅팀 자율성** | 월 2회 이상 독립 이벤트         | 개발팀 도움 없는 이벤트 수 | 기획팀   |

#### 운영 효율성 지표

- **이벤트 생성 시간**: 기존 1주 → 목표 1일
- **시스템 가용성**: 99.9% 업타임
- **응답 속도**: 이벤트 참여 3초 이내
- **오류율**: 1% 미만

### 5.2 사용자 만족도 지표

- **마케팅팀 만족도**: 90% 이상 (설문조사)
- **사용자 이벤트 만족도**: [📝 **질문 9**: 측정 방법과 목표치는?]
- **CS 문의 감소율**: [📝 **질문 10**: 현재 대비 목표 감소율은?]

### 5.3 기술 성과 지표

- **시스템 안정성**: 무중단 서비스 운영
- **확장성**: 동시 사용자 1,000명 지원
- **보안성**: 보안 이슈 0건

---

## ⚠️ 6. 제약사항 및 가정사항 (Constraints & Assumptions)

### 6.1 기술적 제약사항

- **기존 시스템 의존성**: VONE, 앱 배너 시스템과 연동 필수
- **브라우저 호환성**: 모바일 웹뷰 환경 최적화 필요
- **성능 제약**: 기존 인프라 내에서 운영
- **보안 정책**: 기존 인증/인가 시스템 활용 필수

### 6.2 비즈니스 제약사항

- **예산 제한**: [📝 **질문 11**: 프로젝트 예산 범위는?]
- **인력 제약**: 기존 개발팀 리소스 내에서 진행
- **출시 일정**: 2025년 9월 내 완료 (고정)
- **규정 준수**: 백화점 그룹 정책 및 관련 법규 준수

### 6.3 가정사항

- 마케팅팀의 적극적 참여 및 피드백 제공
- 사용자들의 모바일 게임 형태 이벤트에 대한 긍정적 반응
- 기존 시스템(VONE, 앱)의 안정적 운영 지속
- [📝 **질문 12**: 추가 중요한 가정사항이 있나요?]

---

## 📅 7. 일정 및 마일스톤 (Timeline & Milestones)

### 7.1 주요 마일스톤

| Phase       | 기간      | 주요 산출물 | 완료 기준             |
| ----------- | --------- | ----------- | --------------------- |
| **Phase 0** | 완료      | 기획/설계   | ✅ 문서화 완료        |
| **Phase 1** | 9월 1주   | DB 구축     | 테이블 생성 및 테스트 |
| **Phase 2** | 9월 2-3주 | VONE 관리자 | 관리 기능 완료        |
| **Phase 3** | 9월 4주   | 사용자 앱   | 이벤트 참여 기능      |
| **Phase 4** | 10월 1주  | Backend API | 전체 API 완료         |
| **Phase 5** | 10월 2주  | 통합 테스트 | 운영 배포 완료        |

### 7.2 Critical Path

1. **DB 설계** → VONE 관리자 → Backend API → 통합 테스트
2. **Figma 디자인** → 사용자 앱 UI → 애니메이션 구현

### 7.3 리스크 및 대응책

- **위험**: 앱-웹 브릿지 통신 이슈
- **대응**: 기존 패턴 활용, 충분한 테스트
- **완화**: iOS 개발 3일 추가 확보

---

## 🔧 8. 기술 사양 (Technical Specifications)

### 8.1 시스템 아키텍처

```
[사용자 앱] ←→ [API Gateway] ←→ [Backend Services] ←→ [Database]
     ↑                                                      ↑
[앱 배너] ←→ [VONE 관리자] ←→ [Event Management] ←→ [Statistics]
```

### 8.2 기술 스택 및 개발 환경

#### Frontend 구현 방식 (김도현 담당)

**🎮 복권 긁기 게임 구현**

- **구현 방식**: HTML5 Canvas + JavaScript
  - 픽셀 레벨 터치 인터랙션 제어
  - 50% 스크래치 임계점 감지
  - 투명 효과를 통한 즉시 당첨 결과 노출
- **결과 표시**: 50% 도달 → 나머지 영역 자동 사라짐 (즉시 피드백)
- **성능 우선순위**: 터치 반응 즉시성 (100ms 이내)

**📱 앱-웹 브릿지 통신**

```javascript
// 웹 → 앱 호출
window.Android?.startEventInit(eventId); // 페이지 초기화
window.Android?.requestEventResult(eventId); // 당첨 결과 요청

// 앱 → 웹 콜백 함수
function onEventInit(result) {
  /* 이벤트 초기화 */
}
function onEventResultReceived(result) {
  /* 결과 처리 */
}
function onEventError(errorCode, message) {
  /* 에러 처리 */
}
```

**🏗️ 배포 및 호스팅**

- **배포 방식**: AWS S3 정적 호스팅
- **파일 구조**: 이벤트별 별도 HTML 파일 (eventId 하드코딩)
- **번들링**: HTML/CSS/JS 통합 번들
- **업로드**: 수동 배포

**💻 개발 환경**

- **로컬 서버**: Live Server
- **테스트**: Chrome DevTools Device Emulation + 실제 디바이스
- **브릿지 목업**: 개발용 Mock 함수 제공
- **호환성**: iOS 14+ (Safari), Android 5.0+ (Chrome)

#### 전체 시스템 기술 스택

- **VONE 관리자**: 기존 VONE 스택 활용
- **사용자 이벤트 페이지**: S3 정적 웹 (Canvas 기반 게임)
- **Backend API**: 기존 Sikdae-api 백엔드 스택 활용
- **Infrastructure**: 기존 클라우드 환경 활용
- **Monitoring**: 기존 모니터링 시스템 연동

### 8.3 성능 요구사항

- **응답 시간**: API 응답 1초 이내, 페이지 로딩 3초 이내
- **처리량**: 동시 사용자 1,000명, TPS 100
- **가용성**: 99.9% 업타임, 계획된 다운타임 월 4시간 이내

---

## 📊 9. 운영 계획 (Operations Plan)

### 9.1 출시 전략

- **소프트 런치**: 내부 테스트 → 베타 사용자 → 전체 공개
- **교육 계획**: 마케팅팀 시스템 사용 교육 (2시간 세션)
- **CS 준비**: 고객 문의 대응 가이드 작성

### 9.2 모니터링 및 알림

- **시스템 모니터링**: 서버 상태, API 응답시간, 에러율
- **비즈니스 모니터링**: 참여율, 당첨률, 이상 패턴 감지
- **알림 설정**: 시스템 장애, 참여 급증, 오류 임계치 초과

### 9.3 백업 및 복구

- **데이터 백업**: 일일 자동 백업, 실시간 복제
- **재해 복구**: RTO 4시간, RPO 1시간
- **롤백 계획**: 배포 실패시 즉시 이전 버전으로 복구

---

## 🚀 10. 프론트엔드 개발 가이드 (김도현 담당)

### 10.1 핵심 구현 요소

#### 🎯 **복권 긁기 로직**

```javascript
class ScratchGame {
  constructor(canvas, eventId) {
    this.canvas = canvas;
    this.ctx = canvas.getContext("2d");
    this.eventId = eventId;
    this.scratchedArea = 0;
    this.threshold = 50; // 50% 임계점
  }

  handleTouch(x, y) {
    // 터치 포인트 기반 스크래치 처리
    // 투명도 변경 및 진행률 계산
    if (this.scratchedArea >= this.threshold) {
      this.completeGame();
    }
  }

  completeGame() {
    // 50% 달성시 결과 요청
    window.Android?.requestEventResult(this.eventId);
  }
}
```

#### 📡 **브릿지 통신 패턴**

```javascript
// 1. 페이지 로드시 초기화 요청
window.addEventListener("DOMContentLoaded", () => {
  const eventId = "{{EVENT_ID}}"; // S3 업로드시 치환
  window.Android?.startEventInit(eventId);
});

// 2. 앱으로부터 초기화 데이터 수신
function onEventInit(data) {
  if (data.isValid && !data.isCompleted) {
    initScratchGame(data);
  } else if (data.isCompleted) {
    showPreviousResult(data.isEventResult);
  }
}

// 3. 게임 결과 수신 및 처리
function onEventResultReceived(result) {
  showGameResult(result.isWinner, result.rewardName);
}
```

### 10.2 개발 및 테스트 도구

#### 🛠️ **브릿지 통신 Mock**

```javascript
// dev-mock.js - 로컬 개발용
if (window.location.hostname === "localhost") {
  window.Android = {
    startEventInit: (eventId) => {
      setTimeout(
        () =>
          onEventInit({
            isValid: true,
            eventType: "scratch",
            eventName: "테스트 이벤트",
            isCompleted: false,
          }),
        300
      );
    },
    requestEventResult: (eventId) => {
      setTimeout(
        () =>
          onEventResultReceived({
            isWinner: Math.random() > 0.7,
            rewardName: "스타벅스 아메리카노",
          }),
        800
      );
    },
  };
}
```

#### 🧪 **호환성 체크**

```javascript
// canvas-compat.js
const supportsCanvas = (() => {
  const canvas = document.createElement("canvas");
  return !!(canvas.getContext && canvas.getContext("2d"));
})();

if (!supportsCanvas) {
  // 폴백 UI 표시 (Canvas 미지원 환경)
  showFallbackMessage();
}
```

### 10.3 성능 최적화 가이드

- **터치 응답성**: `requestAnimationFrame` 사용으로 60fps 유지
- **메모리 관리**: Canvas 크기 최적화, 불필요한 이벤트 리스너 정리
- **레티나 디스플레이**: `devicePixelRatio` 고려한 Canvas 스케일링
- **로딩 최적화**: 번들 크기 최소화, 이미지 프리로딩

---

## 📋 11. 추가 비즈니스 질문 (기획팀 답변 필요)

### 우선 답변이 필요한 질문들:

1. **비즈니스 목표**: 거래액 증가 목표율 (5%, 10%, 20%?)
2. **참여율 목표**: 전체 사용자 중 몇 %의 참여를 기대하나요?
3. **예산 범위**: 이벤트당 예산 및 개발 프로젝트 예산
4. **측정 방법**: 사용자 만족도를 어떻게 측정할 계획인가요?
5. **Phase 2 우선순위**: 1차 출시 후 어떤 기능을 우선 개발할까요?

### 추가 고려사항:

- 시즌별 이벤트 전략 (명절, 연말 등)
- 외부 파트너사와의 협업 이벤트 가능성
- 개인정보 처리 및 관련 규정 준수 사항

---

## ✅ **프론트엔드 개발 사양 완료**

**김도현님 담당 범위**:

- ✅ 복권 긁기 게임 인터랙션 (Canvas 기반)
- ✅ 앱-웹 브릿지 통신 구현
- ✅ S3 정적 호스팅용 번들 구조
- ✅ iOS/Android 웹뷰 호환성 최적화
- ✅ 터치 이벤트 최적화 (100ms 반응성)

**문서 상태**: 프론트엔드 사양 완료 ✅  
**다음 단계**: 비즈니스 질문 답변 수집 → PRD 최종화 → 개발 시작
