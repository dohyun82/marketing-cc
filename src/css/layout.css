/* 레이아웃 기본 구조 - Figma 디자인 시스템 적용 */

#game-container {
  position: relative;
  width: 100vw;
  height: 100vh;
  min-height: 100dvh; /* 동적 뷰포트 높이 */
  overflow: hidden;
  background: var(--color-white);
  font-family: var(--font-family-primary);
  color: var(--color-primary-text);
  
  /* 최대 너비 제한 (모바일 우선) */
  max-width: var(--container-mobile);
  margin: 0 auto;
  box-shadow: var(--shadow-card);
}

.screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

.screen.hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

/* 로딩 화면 레이아웃 */
#loading-screen {
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}

.loading-content {
  text-align: center;
  padding: 2rem;
}

.loading-spinner {
  width: 50px;
  height: 50px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: white;
  animation: spin 1s ease-in-out infinite;
  margin: 0 auto 1.5rem;
}

.loading-text {
  font-size: 1.125rem;
  font-weight: 500;
  opacity: 0.9;
}

/* ===== 웹 환경을 위한 정리된 스타일 ===== */
/* 상태바와 헤더는 웹 환경에서 제거됨 */

/* ===== 게임 화면 레이아웃 (Figma 구조) ===== */
#game-screen {
  background: var(--color-white);
  overflow-y: auto;
}

.game-main {
  padding-top: var(--spacing-layout-sm); /* 웹 환경 상단 여백 */
  padding-bottom: var(--spacing-layout-sm); /* 웹 환경 하단 여백 */
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* ===== 메인 콘텐츠 영역 ===== */
.game-content {
  flex: 0 0 auto;
  padding: var(--spacing-layout-xs) 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-xl);
}

/* 제목 영역 */
.title-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: var(--spacing-sm);
  max-width: 343px;
  width: 100%;
  padding: 0 var(--spacing-layout-xs);
}

.event-subtitle {
  font-family: var(--font-family-primary);
  font-size: var(--font-size-title-medium);
  font-weight: var(--font-weight-bold);
  color: var(--color-gray-primary);
  line-height: var(--line-height-normal);
  margin: 0;
  max-width: 277px;
}

.event-title {
  font-family: var(--font-family-primary);
  font-size: var(--font-size-title-large);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary-text);
  line-height: var(--line-height-title);
  margin: 0;
  max-width: 250px;
}

/* 스크래치 영역 */
.scratch-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-lg);
  width: 100%;
  max-width: 343px;
  padding: 0 var(--spacing-layout-xs);
}

/* ===== Canvas 컨테이너 (Figma 295x295px 디자인) ===== */
.canvas-container {
  position: relative;
  width: var(--canvas-width);
  height: var(--canvas-height);
  max-width: calc(100vw - var(--spacing-layout-xs) * 2);
  max-height: 60vh;
  background: #ffffff;
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-xl);
  overflow: hidden;
  border: 2px solid #000000;
  transition: transform var(--duration-normal) var(--ease-out);
}

.canvas-container:hover {
  transform: scale(1.02);
  box-shadow: var(--shadow-2xl);
}

.canvas-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gradient-scratch-overlay);
  border-radius: var(--border-radius-lg);
  z-index: 1;
  pointer-events: none;
}

#scratch-canvas {
  width: var(--canvas-width);
  height: var(--canvas-height);
  max-width: calc(100vw - var(--spacing-layout-xs) * 2);
  max-height: calc(60vh);
  cursor: pointer;
  touch-action: none;
  display: block;
  border-radius: var(--border-radius-lg);
  position: relative;
  z-index: 2;
}

.scratch-guide {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 3;
  pointer-events: none;
}

.scratch-guide p {
  font-family: var(--font-family-primary);
  font-size: calc(var(--font-size-body-medium) * 2);
  font-weight: var(--font-weight-semibold);
  color: var(--color-primary-text);
  text-align: center;
  margin: 0;
  text-shadow: none;
  letter-spacing: 0.2px;
  animation: pulse 2s ease-in-out infinite;
  opacity: 1;
  transition: opacity var(--duration-slow) var(--ease-out);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 스크래치 진행에 따른 가이드 텍스트 페이드아웃 */
.canvas-container.scratch-progress-10 .scratch-guide p,
.canvas-container.scratch-progress-25 .scratch-guide p {
  opacity: 0.7;
}

.canvas-container.scratch-progress-50 .scratch-guide p {
  opacity: 0.3;
}

.canvas-container.scratch-progress-75 .scratch-guide p,
.canvas-container.scratch-completed .scratch-guide p {
  opacity: 0;
}

/* 게임 정보 영역 - 진행률 제거됨 */

/* ===== 구분선 및 유의사항 영역 (Figma 디자인) ===== */
.content-separator {
  width: 100% !important;
  height: 8px !important;
  background-color: #EDEDF2 !important;
  background: #EDEDF2 !important;
  margin: var(--spacing-xl) 0 !important;
  display: block !important;
  position: relative !important;
  z-index: 10 !important;
  min-height: 8px !important;
  border: none !important;
  box-sizing: border-box !important;
}

.notice-section {
  width: 100%;
  max-width: 375px;
  padding: 0;
  margin-bottom: var(--spacing-layout-md);
  display: flex;
  justify-content: center;
}

.notice-content {
  background: transparent;
  padding: var(--spacing-lg) var(--spacing-md);
  border-radius: 0;
  box-shadow: none;
  width: 100%;
  border: none;
  box-sizing: border-box;
}

.notice-title {
  font-family: var(--font-family-primary);
  font-size: var(--font-size-body-large);
  font-weight: var(--font-weight-semibold);
  color: var(--color-primary-text);
  margin: 0 0 var(--spacing-md) 0;
  line-height: var(--line-height-body);
}

.notice-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.notice-list li {
  font-family: var(--font-family-primary);
  font-size: var(--font-size-body-small);
  color: var(--color-gray-text);
  line-height: var(--line-height-body);
  margin-bottom: var(--spacing-sm);
  padding-left: var(--spacing-md);
  position: relative;
}

.notice-list li:before {
  content: '•';
  color: var(--color-gray-primary);
  position: absolute;
  left: 0;
  top: 0;
  font-weight: var(--font-weight-medium);
}

.notice-list li:last-child {
  margin-bottom: 0;
}

/* 홈 인디케이터는 웹 환경에서 제거됨 */

/* ===== 에러 화면 레이아웃 ===== */
#error-screen {
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
  color: white;
  padding: 2rem;
}

.error-content {
  text-align: center;
  max-width: 320px;
}

.error-icon {
  font-size: 4rem;
  margin-bottom: 1.5rem;
  opacity: 0.9;
}

.error-title {
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 1rem;
}

.error-message {
  font-size: 1rem;
  opacity: 0.9;
  margin-bottom: 2rem;
  line-height: 1.5;
}

.retry-button {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  padding: 0.875rem 2rem;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 500;
  border: 2px solid rgba(255, 255, 255, 0.3);
  transition: all 0.3s ease;
}

.retry-button:hover,
.retry-button:focus {
  background: rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.5);
  transform: translateY(-2px);
}

/* 반응형 레이아웃 */
@media (max-width: 375px) {
  .game-header {
    margin-bottom: 1.5rem;
  }
  
  .event-title {
    font-size: 1.5rem;
  }
  
  .event-description {
    font-size: 0.9rem;
  }
  
  #scratch-canvas {
    width: 280px;
    height: 373px;
  }
}

@media (max-height: 667px) {
  .game-main {
    gap: 1.5rem;
  }
  
  #scratch-canvas {
    max-height: 55vh;
  }
  
  .canvas-container {
    max-height: 55vh;
  }
}

@media (orientation: landscape) and (max-height: 500px) {
  .game-header {
    margin-bottom: 1rem;
  }
  
  .event-title {
    font-size: 1.25rem;
  }
  
  .game-main {
    gap: 1rem;
  }
  
  #scratch-canvas {
    width: 250px;
    height: 333px;
    max-height: 40vh;
  }
}